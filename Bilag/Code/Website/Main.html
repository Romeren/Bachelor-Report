<!DOCTYPE html>
<html class=" js no-touch" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Odense Energi</title>

    <link href="css/Theme/icons.css" rel="stylesheet">
    <link href="css/Theme/jquery.css" rel="stylesheet">
    <link href="css/Theme/bootstrap.css" rel="stylesheet">
    <link href="css/Theme/plugins.css" rel="stylesheet">
    <link href="css/Theme/main.css" rel="stylesheet">
    <link href="css/Theme/skin.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/categories.css">
    <link rel="stylesheet" type="text/css" href="css/d3.slider.css">
    <link rel="stylesheet" type="text/css" href="css/GraphColors.css">
    <!--             ICON PACK                        -->
    <link rel="stylesheet" type="text/css" href="css/icomoon.css">
    <!--            Custom Css                         -->

    <script src='javascript/shred.bundle.js' type='text/javascript'></script>
    <script src='javascript/swagger.js' type='text/javascript'></script>
    <script src='javascript/sdk-init.js' type='text/javascript'></script>
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>


    <link rel="stylesheet" type="text/css" href="css/main.css">
</head>
<body class="  pace-done">
<!-- Start #header -->

<div id="NavigationBar"></div>
<div id="SideBar"></div>

<!-- Start #content -->
<div class="" id="content">
    <!-- Start .content-wrapper -->
    <div class="content-wrapper">
        <!-- Start .page-header -->
        <!-- End .row -->
        <div class="outlet" id="PageContent">
            <!-- Start .outlet -->
            <!-- Page End here -->
        </div>
        <!-- End .outlet -->
    </div>
    <!-- End .content-wrapper -->
    <div class="clearfix"></div>
</div>
<!-- End #content -->

<div id="TemplateObjects" style="display:none;"></div>

<div id="SnippetsPlugins"></div>

<!--  =================================================================
                            Javascripts 
=====================================================================-->

<script src="javascript/Theme/jquery-ui.js"></script>
<script>window.jQuery || document.write('<script src="assets/js/libs/jquery-ui-1.10.4.min.js">\x3C/script>')</script>
<!-- Bootstrap plugins -->

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

<!-- Core plugins ( not remove ever) -->
<script src="javascript/Theme/modernizr.js"></script>
<!-- Handle responsive view functions -->
<script src="javascript/Theme/jRespond.js"></script>
<!-- Custom scroll for sidebars,tables and etc. 
-->
<script src="javascript/Theme/jquery_019.js"></script>
<script src="javascript/Theme/jquery_021.js"></script>
<!-- Remove click delay in touch -->
<script src="javascript/Theme/fastclick.js"></script>
<!-- Increase jquery animation speed -->
<script src="javascript/Theme/jquery_016.js"></script>
<!-- Resize text area in most pages -->
<script src="javascript/Theme/jquery_003.js"></script>
<!-- Proivde quick search for many widgets -->
<script src="javascript/Theme/jquery_004.js"></script>
<!-- Bootbox confirm dialog for reset postion on panels -->
<script src="javascript/Theme/bootbox.js"></script>
<!-- Other plugins ( load only nessesary plugins for every page) -->

<script src="javascript/Theme/jquery_015.js"></script>
<script src="javascript/Theme/jquery_012.js"></script>
<script src="javascript/Theme/jquery_005.js"></script>
<script src="javascript/Theme/jquery_017.js"></script>
<script src="javascript/Theme/jquery_013.js"></script>
<script src="javascript/Theme/jquery_010.js"></script>
<script src="javascript/Theme/jquery.js"></script>
<!--<script src="javascript/Theme/jquery_002.js"></script> -->
<script src="javascript/Theme/jquery_020.js"></script>
<script src="javascript/Theme/date.js"></script>
<script src="javascript/Theme/jquery_006.js"></script>
<script src="javascript/Theme/jquery_018.js"></script>
<script src="javascript/Theme/jquery_008.js"></script>
<script src="javascript/Theme/jquery_007.js"></script>
<script src="javascript/Theme/tinymce.js"></script>
<script src="javascript/Theme/highlight.js"></script>
<script src="javascript/Theme/jquery_014.js"></script>
<script src="javascript/Theme/skyicons.js"></script>
<script src="javascript/Theme/jquery_009.js"></script>
<script src="javascript/Theme/fullcalendar.js"></script>
<script src="javascript/Theme/app.js"></script>

<script type="text/javascript" src="javascript/d3-master/d3.min.js"></script>
<script type="text/javascript" src="javascript/d3-master/d3.js"></script>
<script src="javascript/d3.tip.js"></script>
<script type="text/javascript" src="javascript/d3.slider.js"></script>


<script type="text/javascript" src="javascript/categoriesjs.js"></script>
<script type="text/javascript" src="javascript/ChartLib.js"></script>
<script src="javascript/Theme/jquery_011.js"></script>

<!-- for list object in javascripts 
<script type="text/javascript" src="http://listjs.com/no-cdn/list.js"></script>
-->
<script src="javascript/nocdn.list.js"></script>
<script src="javascript/list.paging.js"></script>
<script src="javascript/list.fuzzysearch.js"></script>



<script type="text/javascript">
    window.app = {};
    window.app.isSignedIn = false;


//Gradient layer to sexyfy the visualization of the data:        
//one gradient in GRAYSCALE:
        var svg = d3.select('#content').append('svg');

        var gradient = svg.append("svg:defs").append("svg:linearGradient")
            .attr("id", "gradient")
            .attr("x2", "0%")
            .attr("y2", "100%");
    
        gradient.append("svg:stop")
            .attr("offset", "0%")
            .attr("stop-color", "#fff")
            .attr("stop-opacity", .5);
    
        gradient.append("svg:stop")
            .attr("offset", "100%")
            .attr("stop-color", "#999")
            .attr("stop-opacity", 0.5);
//one gradient in BLUE:
        var gradient = svg.append("svg:defs").append("svg:linearGradient")
            .attr("id", "blue-gradient")
            .attr("x2", "0%")
            .attr("y2", "100%");
    
        gradient.append("svg:stop")
            .attr("offset", "0%")
            .attr("stop-color", "#fff")
            .attr("stop-opacity", .5);
    
        gradient.append("svg:stop")
            .attr("offset", "100%")
            .attr("stop-color", "#75b9e6")
            .attr("stop-opacity", 0.5);
//one gradient in RED:
        var gradient = svg.append("svg:defs").append("svg:linearGradient")
            .attr("id", "red-gradient")
            .attr("x2", "0%")
            .attr("y2", "100%");
    
        gradient.append("svg:stop")
            .attr("offset", "0%")
            .attr("stop-color", "#fff")
            .attr("stop-opacity", .5);
    
        gradient.append("svg:stop")
            .attr("offset", "100%")
            .attr("stop-color", "#f68484")
            .attr("stop-opacity", 0.5);
//one gradient in YELLOW:
        var gradient = svg.append("svg:defs").append("svg:linearGradient")
            .attr("id", "yellow-gradient")
            .attr("x2", "0%")
            .attr("y2", "100%");
    
        gradient.append("svg:stop")
            .attr("offset", "0%")
            .attr("stop-color", "#fff")
            .attr("stop-opacity", .5);
    
        gradient.append("svg:stop")
            .attr("offset", "100%")
            .attr("stop-color", "#ffcc66")
            .attr("stop-opacity", 0.5);
//END SEXYFING WITH GRADIENTS:


    document.addEventListener("apiReady", function () {
        window.app.getErrorString = function (response) {
            var msg = "An error occurred, but the server provided no additional information.";
            if (response.content && response.content.data && response.content.data.error) {
                msg = response.content.data.error[0].message;
            }
            msg = msg.replace(/&quot;/g, '"').replace(/&gt;/g, '>').replace(/&lt;/g, '<').replace(/&amp;/g, '&').replace(/&apos;/g, '\'');
            return msg;
        };

        window.app.signIn = function (email, password) {
            var body = {
                email: email,
                password: password
            };
            window.df.apis.user.login({body: body}, function (response) {
                window.authorizations.add("X-DreamFactory-Session-Token", new ApiKeyAuthorization("X-Dreamfactory-Session-Token", response.session_id, 'header'));
                window.app.isSignedIn = true;
                document.dispatchEvent(new CustomEvent("signedIn", {"detail": "User signed in"}));
            }, function (response) {
                alert(window.app.getErrorString(response));
            });
        };

        window.app.signUp = function (email, firstName, lastName, password, passwordRepeat) {
            var body = {
                email: email,
                first_name: firstName,
                last_name: lastName,
                new_password: password
            };
            window.df.apis.user.register({body: body}, function (response) {
                window.app.signIn(body.email, body.new_password);
            }, function (response) {
                alert(window.app.getErrorString(response));
            });
        };

        window.app.signOut = function () {
            window.df.apis.user.logout(null, function (response) {
                window.app.isSignedIn = false;
                document.dispatchEvent(new CustomEvent("signedOut", {"detail": "User signed out"}));
            }, function (response) {
                alert(window.app.getErrorString(response));
            });
        };

        window.df.apis.postgres.getRecords({'table_name':'w_settings', 
                                    'fields':'settingvalue',
                                    'filter':"settingkey='epoch'"
                                    }, 
        function(response) {
                window.epochTime = response.record[0].settingvalue.replace('-', '/').replace('-', '/');    
            }
        );        


        window.loadSidebar = function(){
            $('#SideBar').load('common_html/SideBar.html');
        } 
        window.unloadSideBar = function(){
            $('#SideBar *').remove();
        }

        $('#TemplateObjects').load('common_html/TemplateObjects.html');
        $('#NavigationBar').load('common_html/NavigationBar.html');
        $('#SnippetsPlugins').load('common_html/LoginSnippet.html');
        $('#PageContent').load('pages/HomePage.html');
        
    });
</script>
</body>
</html>